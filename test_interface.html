<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>SkillMatchAPI Test Interface - Enhanced Job Search</title>    <style>        body {            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;            max-width: 1200px;            margin: 0 auto;            padding: 20px;            background-color: #f8f9fa;        }        .container {            background: white;            padding: 30px;            border-radius: 10px;            box-shadow: 0 2px 10px rgba(0,0,0,0.1);            margin-bottom: 20px;        }        h1 {            color: #2c3e50;            text-align: center;            margin-bottom: 30px;        }        h2 {            color: #34495e;            border-bottom: 2px solid #3498db;            padding-bottom: 5px;        }        .test-section {            margin-bottom: 30px;            padding: 20px;            border: 1px solid #ddd;            border-radius: 8px;            background-color: #f9f9f9;        }        button {            background-color: #3498db;            color: white;            padding: 10px 20px;            border: none;            border-radius: 5px;            cursor: pointer;            font-size: 16px;            margin: 5px;        }        button:hover {            background-color: #2980b9;        }        button:disabled {            background-color: #bdc3c7;            cursor: not-allowed;        }        .file-input {            margin: 10px 0;            padding: 8px;            border: 1px solid #ddd;            border-radius: 4px;            width: 100%;            max-width: 300px;        }        .result {            background-color: #ecf0f1;            padding: 15px;            border-radius: 5px;            margin-top: 15px;            white-space: pre-wrap;            font-family: 'Courier New', monospace;            font-size: 14px;            max-height: 600px;            overflow-y: auto;        }        .success {            border-left: 4px solid #27ae60;            background-color: #d5f4e6;        }        .error {            border-left: 4px solid #e74c3c;            background-color: #fadbd8;        }        .info {            background-color: #ebf3fd;            border: 1px solid #3498db;            border-radius: 5px;            padding: 15px;            margin-bottom: 20px;        }        .skill-list {            display: flex;            flex-wrap: wrap;            gap: 5px;            margin-top: 10px;        }        .skill-tag {            background-color: #3498db;            color: white;            padding: 3px 8px;            border-radius: 15px;            font-size: 12px;        }        .match-score {            font-size: 24px;            font-weight: bold;            text-align: center;            padding: 20px;            margin: 10px 0;            border-radius: 10px;        }        .score-high { background-color: #d5f4e6; color: #27ae60; }        .score-medium { background-color: #fef9e7; color: #f39c12; }        .score-low { background-color: #fadbd8; color: #e74c3c; }        /* Job card styles */        .job-card {            border: 1px solid #ddd;            border-radius: 8px;            padding: 15px;            margin: 10px 0;            background: white;            box-shadow: 0 2px 4px rgba(0,0,0,0.1);        }        .job-title {            font-size: 18px;            font-weight: bold;            color: #2c3e50;            margin-bottom: 5px;        }        .job-company {            color: #3498db;            font-weight: 600;            margin-bottom: 3px;        }        .job-details {            color: #666;            font-size: 14px;            margin-bottom: 8px;        }        .job-link {            display: inline-block;            background: #3498db;            color: white;            padding: 8px 16px;            border-radius: 5px;            text-decoration: none;            font-size: 14px;            margin-top: 10px;        }        .job-link:hover {            background: #2980b9;        }        .job-source {            background: #ecf0f1;            color: #2c3e50;            padding: 2px 8px;            border-radius: 12px;            font-size: 12px;            margin-left: 10px;        }        .match-keywords {            margin-top: 8px;        }        .keyword-tag {            background: #e8f5e8;            color: #27ae60;            padding: 2px 6px;            border-radius: 10px;            font-size: 11px;            margin-right: 5px;        }        .jobs-header {            background: #3498db;            color: white;            padding: 10px 15px;            border-radius: 5px;            margin: 15px 0 10px 0;            font-weight: bold;        }    </style></head><body>    <div class="container">        <h1>üöÄ SkillMatchAPI - Enhanced Job Search</h1>                <div class="info">            <strong>üìç Server Status:</strong> <span id="serverStatus">Checking...</span><br>            <strong>üåê API Base URL:</strong> http://localhost:8001<br>            <strong>üìö Documentation:</strong> <a href="http://localhost:8001/docs" target="_blank">Interactive API Docs</a><br>            <strong>üéØ New Feature:</strong> Real job scraping with clickable links!        </div>        <div class="test-section">            <h2>1. Health Check</h2>            <button onclick="testHealthCheck()">Test Health Check</button>            <div id="healthResult" class="result" style="display:none;"></div>        </div>        <div class="test-section">            <h2>2. Match Resume with Job Description (Enhanced)</h2>            <label>Resume PDF:</label>            <input type="file" id="matchResumeFile" class="file-input" accept=".pdf">            <label>Job Description PDF:</label>            <input type="file" id="matchJobFile" class="file-input" accept=".pdf">            <button onclick="matchResumeJob()">Match & Find Jobs</button>            <button onclick="useDefaultFiles()">Use Default Files</button>            <div id="matchResult" class="result" style="display:none;"></div>        </div>        <div class="test-section">            <h2>3. Direct Job Search</h2>            <input type="text" id="jobSkills" placeholder="Enter skills (comma-separated)" class="file-input" value="Python, FastAPI, Machine Learning">            <input type="text" id="jobRoles" placeholder="Enter roles (comma-separated)" class="file-input" value="Senior Python Developer, Software Engineer">            <input type="text" id="jobLocation" placeholder="Location" class="file-input" value="United States">            <button onclick="searchJobs()">Search Jobs</button>            <div id="jobSearchResult" class="result" style="display:none;"></div>        </div>    </div>    <script>        const API_BASE = 'http://localhost:8001';        // Check server status on load        window.onload = function() {            checkServerStatus();        };        async function checkServerStatus() {            try {                const response = await fetch(`${API_BASE}/`);                if (response.ok) {                    document.getElementById('serverStatus').innerHTML = '‚úÖ Running';                    document.getElementById('serverStatus').style.color = 'green';                } else {                    document.getElementById('serverStatus').innerHTML = '‚ùå Not responding';                    document.getElementById('serverStatus').style.color = 'red';                }            } catch (error) {                document.getElementById('serverStatus').innerHTML = '‚ùå Not reachable';                document.getElementById('serverStatus').style.color = 'red';            }        }        async function testHealthCheck() {            const resultDiv = document.getElementById('healthResult');            resultDiv.style.display = 'block';            resultDiv.innerHTML = 'Testing...';                        try {                const response = await fetch(`${API_BASE}/`);                const data = await response.json();                                resultDiv.className = 'result success';                resultDiv.innerHTML = `‚úÖ Success!\n\n${JSON.stringify(data, null, 2)}`;            } catch (error) {                resultDiv.className = 'result error';                resultDiv.innerHTML = `‚ùå Error: ${error.message}`;            }        }        async function matchResumeJob() {            const resumeFile = document.getElementById('matchResumeFile').files[0];            const jobFile = document.getElementById('matchJobFile').files[0];                        if (!resumeFile || !jobFile) {                alert('Please select both resume and job description PDF files');                return;            }                        const resultDiv = document.getElementById('matchResult');            resultDiv.style.display = 'block';            resultDiv.innerHTML = 'Matching resume with job description and searching for jobs...';                        const formData = new FormData();            formData.append('resume', resumeFile);            formData.append('job_desc', jobFile);                        try {                const response = await fetch(`${API_BASE}/match`, {                    method: 'POST',                    body: formData                });                                const data = await response.json();                                if (response.ok) {                    const score = data.match_score || 0;                    const matchedSkills = data.matched_skills || [];                    const jobOpenings = data.job_openings || [];                                        let scoreClass = 'score-low';                    if (score >= 70) scoreClass = 'score-high';                    else if (score >= 40) scoreClass = 'score-medium';                                        let skillsHtml = matchedSkills.map(skill => `<span class="skill-tag">${skill}</span>`).join(' ');                                        // Format job openings                    let jobsHtml = formatJobOpenings(jobOpenings);                                        resultDiv.className = 'result success';                    resultDiv.innerHTML = `                        ‚úÖ Matching Complete!                                                <div class="match-score ${scoreClass}">Match Score: ${score.toFixed(1)}%</div>                                                üîó Matched Skills (${matchedSkills.length}):                        <div class="skill-list">${skillsHtml}</div>                                                üíº Suggested Role: ${data.suggested_role}                                                üìä Resume Skills: ${data.resume_skills?.length || 0}                        üìä Job Skills: ${data.job_skills?.length || 0}                                                <div class="jobs-header">üéØ Found ${data.total_jobs_found || 0} Job Openings</div>                        ${jobsHtml}                    `;                } else {                    resultDiv.className = 'result error';                    resultDiv.innerHTML = `‚ùå Error: ${data.detail || 'Unknown error'}`;                }            } catch (error) {                resultDiv.className = 'result error';                resultDiv.innerHTML = `‚ùå Error: ${error.message}`;            }        }        async function searchJobs() {            const skillsInput = document.getElementById('jobSkills').value;            const rolesInput = document.getElementById('jobRoles').value;            const locationInput = document.getElementById('jobLocation').value;                        if (!skillsInput.trim()) {                alert('Please enter at least one skill');                return;            }                        const skills = skillsInput.split(',').map(s => s.trim()).filter(s => s);            const roles = rolesInput.split(',').map(s => s.trim()).filter(s => s);                        const resultDiv = document.getElementById('jobSearchResult');            resultDiv.style.display = 'block';            resultDiv.innerHTML = 'Searching for jobs...';                        try {                const requestBody = {                    skills: skills,                    location: locationInput || 'United States',                    max_results: 15                };                                if (roles.length > 0) {                    requestBody.roles = roles;                }                                const response = await fetch(`${API_BASE}/search-jobs`, {                    method: 'POST',                    headers: {                        'Content-Type': 'application/json',                    },                    body: JSON.stringify(requestBody)                });                                const data = await response.json();                                if (response.ok) {                    const jobOpenings = data.job_openings || [];                    let jobsHtml = formatJobOpenings(jobOpenings);                                        resultDiv.className = 'result success';                    resultDiv.innerHTML = `                        ‚úÖ Job Search Complete!                                                üîç Search Query:                         Skills: ${skills.join(', ')}                        ${roles.length > 0 ? `Roles: ${roles.join(', ')}` : ''}                        Location: ${data.search_query.location}                                                <div class="jobs-header">üéØ Found ${data.total_jobs_found} Job Openings</div>                        ${jobsHtml}                    `;                } else {                    resultDiv.className = 'result error';                    resultDiv.innerHTML = `‚ùå Error: ${data.detail || 'Unknown error'}`;                }            } catch (error) {                resultDiv.className = 'result error';                resultDiv.innerHTML = `‚ùå Error: ${error.message}`;            }        }        function formatJobOpenings(jobOpenings) {            if (!jobOpenings || jobOpenings.length === 0) {                return '<p>No job openings found. Try with different skills or check back later.</p>';            }                        return jobOpenings.map(job => `                <div class="job-card">                    <div class="job-title">${job.title}</div>                    <div class="job-company">${job.company}                        <span class="job-source">${job.source}</span>                    </div>                    <div class="job-details">                        üìç ${job.location} | üí∞ ${job.salary} | ‚è∞ ${job.posted_date}                    </div>                    ${job.snippet ? `<div style="color: #666; font-size: 13px; margin: 8px 0;">${job.snippet}</div>` : ''}                    ${job.match_keywords && job.match_keywords.length > 0 ?                         `<div class="match-keywords">                            <strong>Matching Skills:</strong>                             ${job.match_keywords.map(kw => `<span class="keyword-tag">${kw}</span>`).join('')}                        </div>` : ''}                    <a href="${job.link}" target="_blank" class="job-link">Apply Now ‚Üí</a>                </div>            `).join('');        }        async function useDefaultFiles() {            try {                const [resumeResponse, jobResponse] = await Promise.all([                    fetch('/dummy_resume.pdf'),                    fetch('/dummy_job_description.pdf')                ]);                                const resumeBlob = await resumeResponse.blob();                const jobBlob = await jobResponse.blob();                                const resumeFile = new File([resumeBlob], 'dummy_resume.pdf', { type: 'application/pdf' });                const jobFile = new File([jobBlob], 'dummy_job_description.pdf', { type: 'application/pdf' });                                const resultDiv = document.getElementById('matchResult');                resultDiv.style.display = 'block';                resultDiv.innerHTML = 'Matching default files and searching for jobs...';                                const formData = new FormData();                formData.append('resume', resumeFile);                formData.append('job_desc', jobFile);                                const response = await fetch(`${API_BASE}/match`, {                    method: 'POST',                    body: formData                });                                const data = await response.json();                                if (response.ok) {                    const score = data.match_score || 0;                    const matchedSkills = data.matched_skills || [];                    const jobOpenings = data.job_openings || [];                                        let scoreClass = 'score-low';                    if (score >= 70) scoreClass = 'score-high';                    else if (score >= 40) scoreClass = 'score-medium';                                        let skillsHtml = matchedSkills.map(skill => `<span class="skill-tag">${skill}</span>`).join(' ');                    let jobsHtml = formatJobOpenings(jobOpenings);                                        resultDiv.className = 'result success';                    resultDiv.innerHTML = `                        ‚úÖ Matching Complete!                                                <div class="match-score ${scoreClass}">Match Score: ${score.toFixed(1)}%</div>                                                üîó Matched Skills (${matchedSkills.length}):                        <div class="skill-list">${skillsHtml}</div>                                                üíº Suggested Role: ${data.suggested_role}                                                üìä Resume Skills: ${data.resume_skills?.length || 0}                        üìä Job Skills: ${data.job_skills?.length || 0}                                                <div class="jobs-header">üéØ Found ${data.total_jobs_found || 0} Job Openings</div>                        ${jobsHtml}                    `;                } else {                    resultDiv.className = 'result error';                    resultDiv.innerHTML = `‚ùå Error: ${data.detail || 'Unknown error'}`;                }            } catch (error) {                document.getElementById('matchResult').className = 'result error';                document.getElementById('matchResult').innerHTML = `‚ùå Error: ${error.message}`;
            }
        }
    </script>
</body>
</html>
